var f=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports);var we=f((Hn,he)=>{he.exports={getParams:function(e){var t={};if(e){var o=[];e.slice(1).split("&").forEach(function(s){o=s.split("="),o.length===2&&(t[o[0]]=unescape(o[1]))})}return t}}});var L=f((Un,Ne)=>{var Se=1e3,ve=60,Te=60,xe=24;function dt(e){var t=e/Se,o=Math.max(0,t/ve),s=Math.max(0,o/Te),d=Math.max(0,s/xe),a=Math.max(0,e-Math.floor(t)*Se);return t=Math.max(0,t-Math.floor(o)*ve),o=Math.max(0,o-Math.floor(s)*Te),s=Math.max(0,s-Math.floor(d)*xe),{days:Math.floor(d),hours:Math.floor(s),minutes:Math.floor(o),seconds:Math.floor(t),milliseconds:a}}function ye(e){return e<10?"0"+e:e.toString()}Ne.exports={formatTime:function(e,t){var o=dt(e);return t||(t=!1),(o.hours>0?o.hours+":":"")+ye(o.minutes)+":"+ye(o.seconds)+(t?"."+o.milliseconds:"")},sanitizeNumber:function(e,t){return typeof e=="string"&&(e=parseInt(e,10)),(typeof e!="number"||isNaN(e))&&(e=t),e},sanitizeBooleanesque:function(e){return["1","true","y","yes"].indexOf(e)>-1}}});var q=f((Gn,Le)=>{Le.exports={ajax:function(e,t,o){var s=new XMLHttpRequest;s.onreadystatechange=function(d){d.target.readyState===4&&(!d.target.status||d.target.status===200)?t(d):o(d)},s.open("GET",e),s.responseType="text",s.send()},localStorageOK:function(){return typeof localStorage<"u"},hasTextMime:function(e){return e.contains("text/plain")}}});var H=f((zn,De)=>{var V=!0;De.exports={gaSetup:function(e){V=e,window["ga-disable-UA-78467679-1"]=!V},g:function(e,t,o,s,d,a){V===!0&&window.ga&&ga.loaded&&ga(e,t,o,s,d,a)}}});var Fe=f((Wn,K)=>{(function(){"use strict";var e=typeof window<"u"&&typeof window.document<"u"?window.document:{},t=typeof K<"u"&&K.exports,o=function(){for(var a,E=[["requestFullscreen","exitFullscreen","fullscreenElement","fullscreenEnabled","fullscreenchange","fullscreenerror"],["webkitRequestFullscreen","webkitExitFullscreen","webkitFullscreenElement","webkitFullscreenEnabled","webkitfullscreenchange","webkitfullscreenerror"],["webkitRequestFullScreen","webkitCancelFullScreen","webkitCurrentFullScreenElement","webkitCancelFullScreen","webkitfullscreenchange","webkitfullscreenerror"],["mozRequestFullScreen","mozCancelFullScreen","mozFullScreenElement","mozFullScreenEnabled","mozfullscreenchange","mozfullscreenerror"],["msRequestFullscreen","msExitFullscreen","msFullscreenElement","msFullscreenEnabled","MSFullscreenChange","MSFullscreenError"]],u=0,y=E.length,N={};u<y;u++)if(a=E[u],a&&a[1]in e){for(u=0;u<a.length;u++)N[E[0][u]]=a[u];return N}return!1}(),s={change:o.fullscreenchange,error:o.fullscreenerror},d={request:function(a,E){return new Promise(function(u,y){var N=function(){this.off("change",N),u()}.bind(this);this.on("change",N),a=a||e.documentElement;var me=a[o.requestFullscreen](E);me instanceof Promise&&me.then(N).catch(y)}.bind(this))},exit:function(){return new Promise(function(a,E){if(!this.isFullscreen){a();return}var u=function(){this.off("change",u),a()}.bind(this);this.on("change",u);var y=e[o.exitFullscreen]();y instanceof Promise&&y.then(u).catch(E)}.bind(this))},toggle:function(a,E){return this.isFullscreen?this.exit():this.request(a,E)},onchange:function(a){this.on("change",a)},onerror:function(a){this.on("error",a)},on:function(a,E){var u=s[a];u&&e.addEventListener(u,E,!1)},off:function(a,E){var u=s[a];u&&e.removeEventListener(u,E,!1)},raw:o};if(!o){t?K.exports={isEnabled:!1}:window.screenfull={isEnabled:!1};return}Object.defineProperties(d,{isFullscreen:{get:function(){return Boolean(e[o.fullscreenElement])}},element:{enumerable:!0,get:function(){return e[o.fullscreenElement]}},isEnabled:{enumerable:!0,get:function(){return Boolean(e[o.fullscreenEnabled])}}}),t?K.exports=d:window.screenfull=d})()});var P=f((Bn,Ye)=>{var ft=".?!\u3002\uFF1F",_t="\u2E80-\u2E99|\u2E9B-\u2EF3|\u2F00-\u2FD5|\u3005|\u3007|\u3021-\u3029|\u3038-\u303A|\u303B|\u3400-\u4DB5|\u4E00-\u9FCC|\uF900-\uFA6D|\uFA70-\uFAD9",gt="\uA000-\uA014|\uA015|\uA016-\uA48C|\uA490-\uA4C6",Et="\u1100-\u11FF|\u302E-\u302F|\u3131-\u318E|\u3200-\u321E|\u3260-\u327E|\uA960-\uA97C|\uAC00-\uD7A3|\uD7B0-\uD7C6|\uD7CB-\uD7FB|\uFFA0-\uFFBE|\uFFC2-\uFFC7|\uFFCA-\uFFCF|\uFFD2-\uFFD7|\uFFDA-\uFFDC",pt=_t+"|"+gt+"|"+Et;Ye.exports={SPACES_RE:new RegExp(`[ \f
\r	\v\u1680\u180E\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200A\u2028\u2029\u202F\u205F\u3000]+`),SENTENCE_END_RE:new RegExp("["+ft+"]"),PARAGRAPH_END_RE:new RegExp("\xA0"),CJK_RE:new RegExp("(["+pt+"])","g"),MILLISECONDS_PER_MINUTE:6e4}});var Pe=f((Xn,Ke)=>{var Ce=P();Ke.exports={tokenize:function(e){return e=e||"",e.replace(/[-]{4,}/g,"---").replace(/[_]{4,}/g,"___").replace(/[=]{4,}/g,"===").replace(/[+]{4,}/g,"+++").replace(/[~]{4,}/g,"~~~").replace(/\.\.\./g,"\u2026").replace(/([a-zA-Z]{2,})([()[\]{}.?!:;\-,\u2026/|\u2010-\u2015]{1,2})([a-zA-Z]{2,})/g,"$1$2 $3").replace(/&nbsp;/g," ").replace(/\u00A0/g," ").replace(/\r\n/g,`
`).replace(/[\n]{2,}/g,"\xA0 ").replace(Ce.CJK_RE," $1").split(Ce.SPACES_RE)}}});var qe=f(($n,ke)=>{var mt=L(),te=P(),ht=60,Ae=300,wt=600,Oe=100,Ie=30,St=250,vt=50,Tt=50,xt=40,yt=100,Nt=180,Lt=250,Dt=400,Ft=250,D=Ae,Re=Oe*ne(D),Me=Ie*ne(D),be=[];function ee(e){e=mt.sanitizeNumber(e,Ae),D=Math.min(wt,Math.max(ht,e)),Yt(ne(e))}function Yt(e){Re=Oe*e,Me=Ie*e,be=[{re:te.SENTENCE_END_RE,delay:Dt*e},{re:/[;:\u2026\u2013\u00B7|\u2010-\u2015]/,delay:Lt*e},{re:/[-,/\uFF0C]/,delay:Nt*e},{re:/[()[]{}]/,delay:yt*e},{re:/["'\u2018\u2019\u201c\u201d]/,delay:xt*e},{re:/\u00A0/,delay:Ft*e},{re:/[0-9=+]/,delay:vt*e},{re:/[A-Z]/,delay:Tt*e},{re:te.CJK_RE,delay:St*e}]}function Ct(e){var t=be.filter(function(o){return o.re.test(e)});return t.length>0?t[0].delay:Me}function ne(e){return te.MILLISECONDS_PER_MINUTE/e/300}function Kt(e){return e?e.split("").reduce(function(t,o){return t+Ct(o)},Re):0}ke.exports={setSpeed:ee,getSpeed:function(){return D},incSpeed:function(e){ee(D+e)},decSpeed:function(e){ee(D-e)},determineDisplayTime:Kt}});var ze=f((jn,Ge)=>{var Pt=L(),S=P(),re=69,l=[],i=0;function U(e){i=Math.min(l.length,Math.max(0,e))}function He(e){U(i+e)}function oe(e){U(i-e)}function Ue(e){var t=!1,o=Math.min(i+re,l.length);for(i;!t&&i<o;i++)l[i]&&l[i].match(e)&&(t=!0)}Ge.exports={init:function(e,t){l=e,U(Pt.sanitizeNumber(t,0))},setPosition:U,incPosition:He,decPosition:oe,getCurrentWord:function(){return l[i]},getLength:function(){return l.length},getPercentage:function(){return l.length>0?100*(i/l.length):0},getPosition:function(){return i},gotoEndOfSentence:function(){var e=!1,t=Math.min(i+re,l.length);for(i;!e&&i<t;i++)l[i]&&l[i].match(S.SENTENCE_END_RE)&&(e=!0,i-=1)},gotoStartOfSentence:function(){var e=!1;l[i-1]&&l[i-1].match(S.SENTENCE_END_RE)&&oe(1),l[i]&&l[i].match(S.SENTENCE_END_RE)&&oe(1);var t=Math.max(i-re,0);for(i;!e&&i>t;i--)l[i]&&l[i].match(S.SENTENCE_END_RE)&&(e=!0,i+=2);Boolean(l[i])&&l[i].match(S.PARAGRAPH_END_RE)&&He(1)},gotoStartOfNextSentence:function(){Ue(S.SENTENCE_END_RE)},gotoStartOfNextParagraph:function(){Ue(S.PARAGRAPH_END_RE)}}});var Xe=f((Jn,Be)=>{var At=Pe(),v=qe(),_=ze(),We=P(),G=[];Be.exports={init:function(e,t){G=At.tokenize(e),_.init(G,t)},getSpeed:v.getSpeed,setSpeed:v.setSpeed,incSpeed:v.incSpeed,decSpeed:v.decSpeed,getCurrentWord:_.getCurrentWord,getLength:_.getLength,getPercentage:_.getPercentage,getPosition:_.getPosition,setPosition:_.setPosition,incPosition:_.incPosition,decPosition:_.decPosition,gotoEndOfSentence:_.gotoEndOfSentence,gotoStartOfSentence:_.gotoStartOfSentence,gotoStartOfNextSentence:_.gotoStartOfNextSentence,gotoStartOfNextParagraph:_.gotoStartOfNextParagraph,getDisplayTime:function(){return v.determineDisplayTime(_.getCurrentWord())},getEstimatedTimeToGo:function(){return We.MILLISECONDS_PER_MINUTE*(_.getLength()-_.getPosition())/v.getSpeed()},getAverageSpeed:function(){var e=G.reduce(function(t,o){return t+v.determineDisplayTime(o)},0);return G.length/(e/We.MILLISECONDS_PER_MINUTE)}}});var je=f((Zn,$e)=>{function F(){this.reset()}F.prototype.reset=function(){this.state="paused",this.startTime=Date.now(),this.pauseStartTime=this.startTime,this.cumulativePauses=0};F.prototype.start=function(){this.state="running",this.startTime=Date.now(),this.pauseStartTime=this.startTime,this.cumulativePauses=0};F.prototype.resume=function(){this.state="running";var e=Date.now()-this.pauseStartTime;this.cumulativePauses+=e};F.prototype.pause=function(){this.state!=="paused"&&(this.state="paused",this.pauseStartTime=Date.now())};F.prototype.getTimeElapsed=function(){return this.state==="running"?Date.now()-this.startTime-this.cumulativePauses:this.pauseStartTime-this.startTime-this.cumulativePauses};$e.exports={Stopwatch:F}});var ie=f((Qn,Je)=>{Je.exports={LS_KEY_BUFFER:"buffer",LS_KEY_TITLE:"title",LS_KEY_POSITION:"position",LS_KEY_SPEED:"speed",LS_KEY_THEME:"theme"}});var Ve=f((Vn,Qe)=>{var Ot=L(),T=1,z=[{nr:0,title:"Zany",href:"style/themes/zany.css"},{nr:1,title:"Sepia",href:"style/themes/sepia.css"},{nr:2,title:"Day",href:"style/themes/day.css"},{nr:3,title:"Night",href:"style/themes/night.css"},{nr:4,title:"Low contrast",href:"style/themes/low-contrast.css"},{nr:5,title:"High contrast",href:"style/themes/high-contrast.css"},{nr:6,title:"Dyslexia - sepia",href:"style/themes/dyslexia-sepia.css"},{nr:7,title:"Dyslexia - day",href:"style/themes/dyslexia-day.css"},{nr:8,title:"Dyslexia - night",href:"style/themes/dyslexia-night.css"},{nr:9,title:"Dyslexia - low contrast",href:"style/themes/dyslexia-low-contrast.css"},{nr:10,title:"Dyslexia - high contrast",href:"style/themes/dyslexia-high-contrast.css"},{nr:11,title:"Low contrast fat font",href:"style/themes/low-contrast-fat-font.css"},{nr:12,title:"Sepia fat font",href:"style/themes/sepia-fat-font.css"},{nr:13,title:"Night fat font",href:"style/themes/night-fat-font.css"},{nr:14,title:"220",href:"style/themes/220.css"},{nr:15,title:"057",href:"style/themes/057.css"},{nr:16,title:"074",href:"style/themes/074.css"},{nr:17,title:"HV",href:"style/themes/hv.css"},{nr:18,title:"liberal",href:"style/themes/liberal.css"},{nr:19,title:"progressive",href:"style/themes/progressive.css"},{nr:20,title:"Fountain Pen",href:"style/themes/fountainpen.css"},{nr:21,title:"background",href:"style/themes/background.css"}];function It(){T++,T>=z.length&&(T=0),Ze(T)}function Ze(e){T=Math.max(Math.min(Ot.sanitizeNumber(e,1),z.length-1),0),window.customtheme.href=z[T].href}function Rt(){return z[T]}Qe.exports={cycleTheme:It,setTheme:Ze,getCurrentTheme:Rt}});var fe=f((eo,ut)=>{var et=Fe(),r=Xe(),B=L(),Mt=je(),h=q(),c=H(),p=ie(),Y=Ve(),C=!1,$=0,W=null,ae=null,A=null,le=!1,X=!1,se=!1,O="",tt="WordyWordy",bt="\u25B7",kt="icon-play3",qt="icon-pause2",Ht=6e4,nt=2200,j=new Mt.Stopwatch;function ue(){W&&window.clearTimeout(W),se===!0&&(window.__output.className="playing"),C&&(r.getPosition()<r.getLength()?(W=window.setTimeout(ue,r.getDisplayTime()),ce(r.getCurrentWord(),!0),r.incPosition(1)):se===!0?(r.setPosition(0),window.__output.className="reload",W=window.setTimeout(ue,1e3)):(window.__output.textContent="",window.__output.className="smile",J()))}function ce(e,t){e!==void 0&&(window.__output.textContent=e,window.__percentage.setAttribute("style","width: "+r.getPercentage()+"%;"),X&&de(),t&&$++)}function de(){var e=j.getTimeElapsed(),t=e/Ht,o=t>0?$/t:0,s=r.getEstimatedTimeToGo(),d=e+s;window.__documentTitle.textContent=O,window.__selectedSpeed.textContent=r.getSpeed().toFixed(0),window.__actualSpeed.textContent=o.toFixed(0),window.__position.textContent=r.getPosition(),window.__positionInPercent.textContent=r.getPercentage().toFixed(1),window.__wordsPlayed.textContent=$,window.__wordsTotal.textContent=r.getLength(),window.__timeElapsed.textContent=B.formatTime(e),window.__timeToGo.textContent=B.formatTime(s),window.__timeTotal.textContent=B.formatTime(d)}function Ut(){X=!X,X?(window.__status.style.display="inline",de()):window.__status.style.display="none",c.g("send","event","app","status-toggle")}function ot(){j.resume(),C=!0,window.__output.className="playing",window.__btn_playpause.className=qt,document.title=bt+" "+O+" - "+tt,ue()}function J(){j.pause(),C=!1,document.title=O+" - "+tt,window.__btn_playpause.className=kt,h.localStorageOK()&&localStorage.setItem("position",r.getPosition())}function Gt(){A&&window.clearTimeout(A),window.__controls.className="",window.__actionbar.className="",A=window.setTimeout(function(){window.__controls.className="fade-away",window.__actionbar.className="fade-away"},nt)}function w(e){ae&&window.clearTimeout(ae),window.__toast.style.display="block",window.__toast.className="",window.__toast.innerHTML=e,ae=window.setTimeout(function(){window.__toast.className="fade-away"},nt)}function rt(e){O=e,h.localStorageOK()&&localStorage.setItem(p.LS_KEY_TITLE,e)}function x(e){e&&J(),ce(r.getCurrentWord(),!1),w(r.getPercentage().toFixed(1)+"%")}function Z(e){de(),w(e.toFixed(0)+" wpm"),h.localStorageOK()&&localStorage.setItem(p.LS_KEY_SPEED,e)}function it(){w("<span class='icon-stopwatch'></span> -"+B.formatTime(r.getEstimatedTimeToGo()))}function zt(){Y.cycleTheme(),w(Y.getCurrentTheme().title),h.localStorageOK()&&localStorage.setItem(p.LS_KEY_THEME,Y.getCurrentTheme().nr),c.g("send","event","app","theme-cycle")}function Wt(e){Y.setTheme(e),w(Y.getCurrentTheme().title),h.localStorageOK()&&localStorage.setItem(p.LS_KEY_THEME,Y.getCurrentTheme().nr),c.g("send","event","app","theme-set")}function Bt(){x(!0),window.__input_file.click()}function Q(e){r.setPosition(e),x(!1)}function Xt(e){Q(Math.floor(e*r.getLength())),c.g("send","event","app","position-fraction")}function at(){Q(0),c.g("send","event","app","position-home")}function $t(e){r.decPosition(1),x(!0),e||c.g("send","event","app","position-previous-word")}function jt(){C=!C,C?ot():J(),c.g("send","event","app","play-pause")}function Jt(e){r.incPosition(1),x(!0),e||c.g("send","event","app","position-next-word")}function Zt(){Q(r.getLength()),c.g("send","event","app","position-end")}function Qt(){r.incSpeed(5),Z(r.getSpeed()),c.g("send","event","app","speed-up")}function Vt(){r.decSpeed(5),Z(r.getSpeed()),c.g("send","event","app","speed-slow-down")}function en(e){r.setSpeed(e),Z(r.getSpeed()),c.g("send","event","app","speed-set")}function tn(e){r.setSpeedFraction(e),Z(r.getSpeed()),c.g("send","event","app","speed-set-fraction")}function nn(){r.gotoStartOfNextSentence(),x(!1),c.g("send","event","app","position-start-of-next-sentence")}function on(){r.gotoStartOfNextParagraph(),x(!1),c.g("send","event","app","position-start-of-next-paragraph")}function rn(){r.gotoStartOfSentence(),x(!0),c.g("send","event","app","position-start-of-sentence")}function an(){h.localStorageOK()&&localStorage.setItem(p.LS_KEY_POSITION,r.getPosition()),w("position saved"),c.g("send","event","app","position-save")}function st(e,t){$=0,window.__output.className="",h.localStorageOK()&&localStorage.setItem(p.LS_KEY_BUFFER,e),r.init(e),window.__avgSpeed.textContent=r.getAverageSpeed().toFixed(1),j.reset(),ce(r.getCurrentWord(),!1),it(),rt(t)}function sn(e){se=e}function un(){st("",""),h.localStorageOK()&&(localStorage.removeItem(p.LS_KEY_BUFFER),localStorage.removeItem(p.LS_KEY_TITLE),localStorage.removeItem(p.LS_KEY_POSITION),localStorage.removeItem(p.LS_KEY_SPEED),localStorage.removeItem(p.LS_KEY_THEME)),at(),w("Forgot everything"),c.g("send","event","app","forget-everything")}function ln(){et.isEnabled&&et.toggle(),c.g("send","event","app","toggle-fullscreen")}function cn(){le||Gt()}function dn(){A&&window.clearTimeout(A),le=!0,window.__controls.className="",window.__actionbar.className=""}function fn(){le=!1}function _n(){return O}ut.exports={toggleStatus:Ut,play:ot,pause:J,toast:w,showTimeToGo:it,setTheme:Wt,cycleTheme:zt,openFile:Bt,setPos:Q,setPosFraction:Xt,home:at,end:Zt,dec:$t,playpause:jt,inc:Jt,speedUp:Qt,slowDown:Vt,setSpeed:en,setSpeedFraction:tn,gotoStartOfNextSentence:nn,gotoStartOfNextParagraph:on,gotoStartOfSentence:rn,savePosition:an,initiateText:st,setLooping:sn,forgetEverything:un,toggleFullscreen:ln,mousemove:cn,controlsMouseover:dn,controlsMouseout:fn,getDocumentTitle:_n,setDocumentTitle:rt}});var ct=f((to,lt)=>{var n=fe(),gn=q(),m=H(),I={0:"SECTION_KEY_FF",9:"TAB_KEY",13:"ENTER_KEY",188:"COMMA_KEY",190:"DOT_KEY",191:"SLASH_KEY",192:"SECTION_KEY",32:"SPACE_KEY",33:"PAGEUP_KEY",34:"PAGEDOWN_KEY",35:"END_KEY",36:"HOME_KEY",37:"LEFT_KEY",38:"UP_KEY",39:"RIGHT_KEY",40:"DOWN_KEY",48:"ZERO_KEY",49:"ONE_KEY",50:"TWO_KEY",51:"THREE_KEY",52:"FOUR_KEY",53:"FIVE_KEY",54:"SIX_KEY",55:"SEVEN_KEY",56:"EIGHT_KEY",57:"NINE_KEY",65:"A_KEY",66:"B_KEY",67:"C_KEY",68:"D_KEY",69:"E_KEY",70:"F_KEY",73:"I_KEY",79:"O_KEY",81:"Q_KEY",82:"R_KEY",83:"S_KEY",84:"T_KEY",87:"W_KEY"},R={HOME_KEY:{func:n.home},END_KEY:{func:n.end},I_KEY:{func:n.toggleStatus},C_KEY:{func:n.forgetEverything},T_KEY:{func:function(){n.showTimeToGo(),m.g("send","event","app","time-to-go-show")}},SPACE_KEY:{func:n.playpause},ENTER_KEY:{func:n.playpause},LEFT_KEY:{func:n.dec},A_KEY:{func:n.dec},PAGEDOWN_KEY:{func:n.gotoStartOfNextSentence},E_KEY:{func:n.gotoStartOfNextSentence},R_KEY:{func:n.gotoStartOfNextParagraph},RIGHT_KEY:{func:n.inc},D_KEY:{func:n.inc},PAGEUP_KEY:{func:n.gotoStartOfSentence},Q_KEY:{func:n.gotoStartOfSentence},DOWN_KEY:{func:n.slowDown},S_KEY:{func:n.slowDown},UP_KEY:{func:n.speedUp},W_KEY:{func:n.speedUp},O_KEY:{func:n.openFile},B_KEY:{func:n.savePosition},F_KEY:{func:n.toggleFullscreen},ONE_KEY:{func:n.setTheme,arg:1},TWO_KEY:{func:n.setTheme,arg:2},THREE_KEY:{func:n.setTheme,arg:3},FOUR_KEY:{func:n.setTheme,arg:4},FIVE_KEY:{func:n.setTheme,arg:5},SIX_KEY:{func:n.setTheme,arg:6},SEVEN_KEY:{func:n.setTheme,arg:7},EIGHT_KEY:{func:n.setTheme,arg:8},NINE_KEY:{func:n.setTheme,arg:9},SECTION_KEY:{func:n.cycleTheme},SECTION_KEY_FF:{func:n.cycleTheme}},_e=new FileReader,ge="";function En(e){e&&e.clipboardData&&(n.initiateText(e.clipboardData.getData("text/plain"),"clipboard"),n.play()),e.preventDefault(),m.g("send","event","app","source-paste")}function pn(e){e.preventDefault()}function mn(e){e.preventDefault()}function hn(e){e.preventDefault(),window.__output.className=""}function wn(e){e.preventDefault()}function Sn(e){e.preventDefault(),window.__output.className="smile"}function vn(e){e.preventDefault(),window.__output.className=""}function Tn(e){n.setPosFraction(e.clientX/window.__percentagewrap.scrollWidth)}function xn(e){R[I[e.keyCode]]&&(R[I[e.keyCode]].arg===void 0?R[I[e.keyCode]].func():R[I[e.keyCode]].func(R[I[e.keyCode]].arg)),window.__droparea.value=""}function yn(e){e.preventDefault(),e.deltaY?e.deltaY>0?n.inc(!0):e.deltaY<0&&n.dec(!0):e.deltaX&&e.deltaX!==0&&e.deltaY===0&&(e.deltaX>0?n.dec(!0):e.deltaX<0&&n.inc(!0))}function Nn(e){e&&e.target&&e.target.result&&(n.initiateText(e.target.result,ge),n.play(),m.g("send","event","app","source-file-open-success"))}_e.addEventListener("loadend",Nn);function Ln(e){if(e.target.files.length>0){var t=e.target.files[0];t.type==="text/plain"?(_e.readAsText(t),ge=t.name,m.g("send","event","app","source-file-open")):m.g("send","exception",{exDescription:"source-file-open-not-plain-text",exFatal:!1})}else m.g("send","exception",{exDescription:"source-file-open-no-files",exFatal:!1})}function Dn(e){if(window.__output.className="playing",e.dataTransfer.files.length>0){var t=e.dataTransfer.files[0];t.type==="text/plain"?(_e.readAsText(t),ge=t.name,m.g("send","event","app","source-file-open-drop")):m.g("send","exception",{exDescription:"source-file-open-drop-not-plain-text",exFatal:!1})}else gn.hasTextMime(e.dataTransfer.types)&&(n.initiateText(e.dataTransfer.getData("text/plain"),"drag/ drop"),n.play(),m.g("send","event","app","source-text-drop"));e.preventDefault()}function Fn(){window.__droparea.addEventListener("drag",pn,!0),window.__droparea.addEventListener("dragenter",mn,!0),window.__droparea.addEventListener("dragleave",hn,!0),window.__droparea.addEventListener("dragstart",wn,!0),window.__droparea.addEventListener("dragover",Sn,!0),window.__droparea.addEventListener("dragend",vn,!0),window.__droparea.addEventListener("paste",En,!0),window.__droparea.addEventListener("drop",Dn,!0)}function Yn(){window.__btn_home.addEventListener("click",n.gotoStartOfSentence,!0),window.__btn_dec.addEventListener("click",function(){n.dec(!1)},!0),window.__btn_playpause.addEventListener("click",n.playpause,!1),window.__btn_inc.addEventListener("click",function(){n.inc(!1)},!0),window.__btn_end.addEventListener("click",n.gotoStartOfNextSentence,!0),window.__btn_paragraph.addEventListener("click",n.gotoStartOfNextParagraph,!0)}function Cn(){window.__input_file.addEventListener("change",Ln,!0),window.__btn_open.addEventListener("click",n.openFile,!0),window.__btn_theme.addEventListener("click",n.cycleTheme,!0),window.__btn_slowdown.addEventListener("click",n.slowDown,!0),window.__btn_speedup.addEventListener("click",n.speedUp,!0),window.__btn_fullscreen.addEventListener("click",n.toggleFullscreen,!0),window.__btn_info.addEventListener("click",n.toggleStatus,!0),window.__lnk_more_information.addEventListener("click",function(e){m.g("send","event","Outbound link",null,e.target.href)},!0)}function Kn(){window.document.body.addEventListener("wheel",yn,!0),window.document.body.addEventListener("mousemove",n.mousemove,!0),window.__controls.addEventListener("mouseover",n.controlsMouseover,!0),window.__controls.addEventListener("mouseout",n.controlsMouseout,!0),window.__actionbar.addEventListener("mouseover",n.controlsMouseover,!0),window.__actionbar.addEventListener("mouseout",n.controlsMouseout,!0)}function Pn(){Fn(),Yn(),Cn(),window.__percentagewrap.addEventListener("click",Tn,!0),window.__rightarea.addEventListener("click",n.playpause,!0),window.document.body.addEventListener("keydown",xn,!0),Kn()}lt.exports={addEventListeners:Pn}});var An=we(),Ee=L(),pe=q(),k=H(),On=ct(),g=fe(),M=ie(),In=1e3,Rn={thoughts:"samples/thoughts.txt",1984:"samples/1984.txt",freedom:"samples/freedom.txt",intro:"samples/intro.txt",intro_nl:"samples/intro.nl.txt",laozi:"samples/laozi.txt"};function Mn(e){k.gaSetup(!e),k.g("create","UA-78467679-1","auto"),k.g("send","pageview")}function bn(e){Mn(Ee.sanitizeBooleanesque(e.donottrack)),e.speed&&g.setSpeed(e.speed),e.theme&&g.setTheme(e.theme),e.text&&g.initiateText(decodeURIComponent(e.text),"url"),e.pos&&g.setPos(e.pos),e.loop&&Ee.sanitizeBooleanesque(e.loop)?g.setLooping(!0):g.setLooping(!1),e.play&&Ee.sanitizeBooleanesque(e.play)&&window.setTimeout(g.play,In),!e.text&&e.canned&&pe.ajax(decodeURIComponent(Rn[e.canned]),function(t){g.initiateText(t.target.response,e.canned)},function(){k.g("send","exception",{exDescription:"could-not-load-canned-text "+e.canned,exFatal:!1})}),!e.text&&e.url&&pe.ajax(decodeURIComponent(e.url),function(t){g.initiateText(t.target.response,e.url)},function(){k.g("send","exception",{exDescription:"could-not-load-text-from-url "+e.url,exFatal:!1})})}function b(e,t,o){localStorage.getItem(e)&&t(localStorage.getItem(e),o)}function kn(){pe.localStorageOK()&&(b(M.LS_KEY_SPEED,g.setSpeed),b(M.LS_KEY_TITLE,g.setDocumentTitle),b(M.LS_KEY_BUFFER,g.initiateText,g.getDocumentTitle()),b(M.LS_KEY_POSITION,g.setPos),b(M.LS_KEY_THEME,g.setTheme))}On.addEventListeners();kn();bn(An.getParams(window.location.search));
/*!
* screenfull
* v5.2.0 - 2021-11-03
* (c) Sindre Sorhus; MIT License
*/
